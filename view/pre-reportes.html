<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Pre-reportes de Incidencias - SICA</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css" rel="stylesheet">
    <!-- Base Styles -->
    <link href="../css/base-styles.css" rel="stylesheet">
    <!-- Page Specific Styles -->
    <link id="page-styles" href="../css/pre-reportes.css" rel="stylesheet">
</head>
<body>
    <!-- Header Component -->
    <div id="header-component"></div>

    <!-- Navigation Component -->
    <div id="navbar-component"></div>

    <!-- Main Content Area -->
    <main class="main-content" id="main-content">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-10">
                        <div class="hero-content text-center">
                            <div class="hero-icon">
                                <i class="bi bi-shield-exclamation"></i>
                            </div>
                            <h1 class="hero-title">Pre-reportes de Incidencias</h1>
                            <p class="hero-subtitle">Sistema de registro de faltas al reglamento SICA</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Form Section -->
        <section class="form-section">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="form-container">
                            <form id="prereportForm" class="prereport-form">
                                <!-- Información del Asesor -->
                                <div class="form-group-modern">
                                    <h3 class="section-title">
                                        <i class="bi bi-person-badge"></i>
                                        Información del Asesor
                                    </h3>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="floating-label-group">
                                                <input type="text" id="asesor" class="form-control-modern" placeholder=" " autocomplete="off">
                                                <label class="floating-label">Asesor</label>
                                                <div class="dropdown-suggestions" id="asesorSuggestions"></div>
                                                <div class="field-icon">
                                                    <i class="bi bi-person"></i>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="col-md-6">
                                            <div class="floating-label-group">
                                                <select id="sala" class="form-control-modern">
                                                    <option value="">Seleccionar sala</option>
                                                    <option value="SICA 1">SICA 1</option>
                                                    <option value="SICA 2">SICA 2</option>
                                                    <option value="SICA 3">SICA 3</option>
                                                    <option value="Salón Inteligente 1">Salón Inteligente 1</option>
                                                    <option value="Salón Inteligente 2">Salón Inteligente 2</option>
                                                </select>
                                                <label class="floating-label">Sala</label>
                                                <div class="field-icon">
                                                    <i class="bi bi-building"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Información de la Incidencia -->
                                <div class="form-group-modern">
                                    <h3 class="section-title">
                                        <i class="bi bi-clock-history"></i>
                                        Información de la Incidencia
                                    </h3>
                                    
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="floating-label-group">
                                                <input type="date" id="fecha" class="form-control-modern">
                                                <label class="floating-label">Fecha</label>
                                                <div class="field-icon">
                                                    <i class="bi bi-calendar3"></i>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="col-md-4">
                                            <div class="floating-label-group">
                                                <select id="horaInicio" class="form-control-modern">
                                                    <option value="">Hora de inicio</option>
                                                </select>
                                                <label class="floating-label">Hora de Inicio</label>
                                                <div class="field-icon">
                                                    <i class="bi bi-clock"></i>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="col-md-4">
                                            <div class="floating-label-group">
                                                <select id="horaFinal" class="form-control-modern">
                                                    <option value="">Hora final</option>
                                                </select>
                                                <label class="floating-label">Hora Final</label>
                                                <div class="field-icon">
                                                    <i class="bi bi-clock-fill"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Motivo de la Falta -->
                                <div class="form-group-modern">
                                    <h3 class="section-title">
                                        <i class="bi bi-exclamation-triangle"></i>
                                        Motivo de la Falta
                                    </h3>
                                    
                                    <div class="floating-label-group">
                                        <select id="motivoFalta" class="form-control-modern">
                                            <option value="">Seleccionar motivo de la falta</option>
                                        </select>
                                        <label class="floating-label">Motivo de la Falta</label>
                                        <div class="field-icon">
                                            <i class="bi bi-list-check"></i>
                                        </div>
                                    </div>
                                </div>

                                <!-- Resumen de Sanción -->
                                <div class="sanction-summary" id="sanctionSummary" style="display: none;">
                                    <div class="summary-card">
                                        <div class="summary-header">
                                            <i class="bi bi-calculator"></i>
                                            <h4>Resumen de Sanción</h4>
                                        </div>
                                        <div class="summary-content">
                                            <div class="summary-item">
                                                <span class="summary-label">Tiempo total:</span>
                                                <span class="summary-value" id="tiempoTotal">0 min</span>
                                            </div>
                                            <div class="summary-item">
                                                <span class="summary-label">Sanción por bloque:</span>
                                                <span class="summary-value" id="sancionBloque">0 min</span>
                                            </div>
                                            <div class="summary-item highlight">
                                                <span class="summary-label">Acumulado total:</span>
                                                <span class="summary-value" id="acumuladoTotal">0h 0m</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Quien Levanta el Reporte -->
                                <div class="form-group-modern">
                                    <h3 class="section-title">
                                        <i class="bi bi-person-check"></i>
                                        Quien Levanta el Reporte
                                    </h3>
                                    
                                    <div class="floating-label-group">
                                        <input type="text" id="reportadoPor" class="form-control-modern" placeholder=" " autocomplete="off">
                                        <label class="floating-label">Quien levanta la falta</label>
                                        <div class="dropdown-suggestions" id="reportadoPorSuggestions"></div>
                                        <div class="field-icon">
                                            <i class="bi bi-person-plus"></i>
                                        </div>
                                    </div>
                                </div>

                                <!-- Botones de Acción -->
                                <div class="form-actions">
                                    <button type="button" class="btn btn-secondary btn-modern" id="cancelBtn">
                                        <i class="bi bi-x-circle"></i>
                                        Cancelar
                                    </button>
                                    <button type="submit" class="btn btn-primary btn-modern" id="submitBtn">
                                        <i class="bi bi-check-circle"></i>
                                        Registrar Pre-reporte
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Component -->
    <div id="footer-component"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Cargando...</span>
            </div>
            <p class="loading-text">Procesando...</p>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <!-- Firebase Config -->
    <script src="../firebase-config.js"></script>
    <!-- Base Components JS -->
    <script src="../js/components.js"></script>
    <!-- Base Navigation JS -->
    <script src="../js/navigation.js"></script>
    <!-- Page Specific JS -->
    <script src="../js/pre-reportes.js"></script>
</body>
</html>